<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battery Passport System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header p {
            text-align: center;
            color: #666;
            font-size: 1.1rem;
        }
        
        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .nav-tab {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .nav-tab:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }
        
        .nav-tab.active {
            background: #667eea;
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .screen {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.5s ease-in;
        }
        
        .screen.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
        }
        
        .btn-danger {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }
        
        .btn-success {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
        }
        
        .qr-display {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 12px;
            border: 2px dashed #667eea;
        }
        
        .qr-code {
            width: 200px;
            height: 200px;
            background: #f0f0f0;
            margin: 0 auto 15px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #666;
            border: 1px solid #ddd;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .status-active {
            background: #d4edda;
            color: #155724;
        }
        
        .status-warning {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-danger {
            background: #f8d7da;
            color: #721c24;
        }
        
        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            transition: width 0.3s ease;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .scanner-view {
            background: #000;
            color: white;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .camera-frame {
            width: 300px;
            height: 300px;
            background: #333;
            margin: 0 auto 20px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed #667eea;
        }
        
        .lifecycle-timeline {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .timeline-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .timeline-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            color: white;
        }
        
        .timeline-content h4 {
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .timeline-content p {
            color: #666;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .nav-tabs {
                flex-direction: column;
            }
            
            .grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Battery Passport System</h1>
            <p>Digital Identity & Lifecycle Management for EV Batteries</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showScreen('dashboard')">Dashboard</button>
            <button class="nav-tab" onclick="showScreen('register')">Register Battery</button>
            <button class="nav-tab" onclick="showScreen('vehicle-mapping')">Vehicle Mapping</button>
            <button class="nav-tab" onclick="showScreen('scanner')">QR Scanner</button>
            <button class="nav-tab" onclick="showScreen('passport')">Battery Passport</button>
            <button class="nav-tab" onclick="showScreen('lifecycle')">Lifecycle Tracking</button>
            <button class="nav-tab" onclick="showScreen('service')">Service Center</button>
            <button class="nav-tab" onclick="showScreen('recycling')">Recycling</button>
        </div>
        
        <!-- Dashboard Screen -->
        <div id="dashboard" class="screen active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">15,847</div>
                    <div class="stat-label">Registered Batteries</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">12,340</div>
                    <div class="stat-label">Active in Field</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2,507</div>
                    <div class="stat-label">In Service</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1,000</div>
                    <div class="stat-label">Recycled</div>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>Recent Activities</h3>
                    <div style="space-y: 10px;">
                        <div style="padding: 10px; background: #f8f9ff; border-radius: 6px; margin-bottom: 8px;">
                            <strong>Battery BP2024001547</strong> registered by TataMotors
                            <div style="font-size: 0.8rem; color: #666;">2 hours ago</div>
                        </div>
                        <div style="padding: 10px; background: #f8f9ff; border-radius: 6px; margin-bottom: 8px;">
                            <strong>Service completed</strong> for BP2024001234
                            <div style="font-size: 0.8rem; color: #666;">4 hours ago</div>
                        </div>
                        <div style="padding: 10px; background: #f8f9ff; border-radius: 6px; margin-bottom: 8px;">
                            <strong>Battery BP2024000987</strong> marked for recycling
                            <div style="font-size: 0.8rem; color: #666;">6 hours ago</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>System Health</h3>
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>API Uptime</span>
                            <span>99.9%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 99.9%;"></div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>Database Load</span>
                            <span>67%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 67%;"></div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>QR Scan Success Rate</span>
                            <span>98.2%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 98.2%;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Vehicle Mapping Screen -->
        <div id="vehicle-mapping" class="screen">
            <div class="card">
                <h3>Battery-Vehicle Integration</h3>
                <p style="color: #666; margin-bottom: 20px;">Map battery to vehicle VIN during OEM assembly process</p>
                
                <div class="grid">
                    <div class="card" style="background: #e8f4fd;">
                        <h4 style="color: #2980b9; margin-bottom: 15px;">ðŸ“± Scan Battery QR Code</h4>
                        <div class="scanner-view" style="background: #2c3e50; padding: 20px;">
                            <div class="camera-frame" style="width: 200px; height: 200px; margin: 0 auto 15px;">
                                <div style="color: white;">ðŸ“· Scan Battery QR</div>
                            </div>
                            <button class="btn" onclick="simulateBatteryScan()">Simulate Battery Scan</button>
                        </div>
                        
                        <div id="scanned-battery" style="display: none; margin-top: 15px; padding: 15px; background: white; border-radius: 8px;">
                            <h5 style="color: #27ae60;">âœ… Battery Scanned Successfully</h5>
                            <p><strong>Battery ID:</strong> BP2024001548</p>
                            <p><strong>Chemistry:</strong> LFP</p>
                            <p><strong>Capacity:</strong> 40.5 kWh</p>
                            <p><strong>Status:</strong> <span class="status-badge status-active">Ready for Integration</span></p>
                        </div>
                    </div>
                    
                    <div class="card" style="background: #f0f8e8;">
                        <h4 style="color: #27ae60; margin-bottom: 15px;">ðŸš— Vehicle Information</h4>
                        <div class="form-group">
                            <label>Vehicle VIN</label>
                            <input type="text" placeholder="Enter or scan Vehicle VIN" id="vehicleVin" style="font-family: monospace;">
                        </div>
                        
                        <div class="form-group">
                            <label>Vehicle Model</label>
                            <select id="vehicleModel">
                                <option>Select Vehicle Model</option>
                                <option>Tata Nexon EV</option>
                                <option>Tata Tigor EV</option>
                                <option>Mahindra eVerito</option>
                                <option>MG ZS EV</option>
                                <option>Hyundai Kona Electric</option>
                                <option>Ather 450X</option>
                                <option>TVS iQube</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Manufacturing Plant</label>
                            <select>
                                <option>Pune Assembly Plant</option>
                                <option>Chennai Manufacturing Hub</option>
                                <option>Aurangabad Facility</option>
                                <option>Sanand Production Unit</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Assembly Date</label>
                            <input type="datetime-local" id="assemblyDate">
                        </div>
                        
                        <div class="form-group">
                            <label>Assembly Technician ID</label>
                            <input type="text" placeholder="TECH_ASM_001" value="TECH_ASM_045">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>Integration Validation</h3>
                <div class="grid">
                    <div>
                        <h4 style="color: #667eea; margin-bottom: 15px;">Compatibility Check</h4>
                        <div id="compatibility-results" style="display: none;">
                            <div style="padding: 10px; background: #d4edda; border-radius: 6px; margin-bottom: 10px; color: #155724;">
                                âœ… Battery voltage matches vehicle requirements (400V)
                            </div>
                            <div style="padding: 10px; background: #d4edda; border-radius: 6px; margin-bottom: 10px; color: #155724;">
                                âœ… Battery capacity compatible with vehicle design (40.5 kWh)
                            </div>
                            <div style="padding: 10px; background: #d4edda; border-radius: 6px; margin-bottom: 10px; color: #155724;">
                                âœ… BMS version compatible with vehicle ECU
                            </div>
                            <div style="padding: 10px; background: #d4edda; border-radius: 6px; margin-bottom: 10px; color: #155724;">
                                âœ… Physical dimensions match mounting specifications
                            </div>
                        </div>
                        
                        <button class="btn" onclick="runCompatibilityCheck()" id="compatibilityBtn">Run Compatibility Check</button>
                    </div>
                    
                    <div>
                        <h4 style="color: #667eea; margin-bottom: 15px;">Integration Summary</h4>
                        <div id="integration-summary" style="display: none;">
                            <div style="background: #f8f9ff; padding: 15px; border-radius: 8px;">
                                <p><strong>Battery:</strong> BP2024001548 (LFP, 40.5 kWh)</p>
                                <p><strong>Vehicle:</strong> <span id="summaryVin">-</span></p>
                                <p><strong>Model:</strong> <span id="summaryModel">-</span></p>
                                <p><strong>Integration Date:</strong> <span id="summaryDate">-</span></p>
                                <p><strong>Status:</strong> <span class="status-badge status-warning">Pending Integration</span></p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 25px;">
                    <button class="btn btn-success" onclick="completeBatteryIntegration()" id="integrateBtn" disabled>
                        ðŸ”— Complete Battery-Vehicle Integration
                    </button>
                    <button class="btn btn-secondary">Save as Draft</button>
                    <button class="btn">Print Integration Label</button>
                </div>
            </div>
            
            <div id="integration-success" class="card" style="display: none; background: linear-gradient(45deg, #d4edda, #c3e6cb);">
                <h3 style="color: #155724;">âœ… Integration Completed Successfully!</h3>
                <div class="grid">
                    <div>
                        <h4>Battery-Vehicle Mapping Created</h4>
                        <p><strong>Integration ID:</strong> INT2024080601</p>
                        <p><strong>Battery ID:</strong> BP2024001548</p>
                        <p><strong>Vehicle VIN:</strong> <span id="finalVin">-</span></p>
                        <p><strong>Timestamp:</strong> <span id="finalTimestamp">-</span></p>
                    </div>
                    <div>
                        <h4>Next Steps</h4>
                        <ul style="margin-left: 20px; line-height: 1.6;">
                            <li>Vehicle ready for pre-delivery inspection</li>
                            <li>Battery warranty automatically linked to VIN</li>
                            <li>Service history tracking activated</li>
                            <li>Vehicle can be delivered to dealer/customer</li>
                        </ul>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn">Generate Integration Certificate</button>
                    <button class="btn btn-secondary">View Battery Passport</button>
                    <button class="btn btn-secondary">Print VIN-Battery Label</button>
                </div>
            </div>
            
            <div class="card">
                <h3>Recent Integrations</h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8f9ff; border-bottom: 2px solid #667eea;">
                                <th style="padding: 12px; text-align: left;">Integration ID</th>
                                <th style="padding: 12px; text-align: left;">Battery ID</th>
                                <th style="padding: 12px; text-align: left;">Vehicle VIN</th>
                                <th style="padding: 12px; text-align: left;">Model</th>
                                <th style="padding: 12px; text-align: left;">Date</th>
                                <th style="padding: 12px; text-align: left;">Technician</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 10px;">INT2024080599</td>
                                <td style="padding: 10px;">BP2024001546</td>
                                <td style="padding: 10px;">TATA2024MH01A5432</td>
                                <td style="padding: 10px;">Nexon EV</td>
                                <td style="padding: 10px;">Aug 5, 2025 14:30</td>
                                <td style="padding: 10px;">TECH_ASM_045</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 10px;">INT2024080598</td>
                                <td style="padding: 10px;">BP2024001545</td>
                                <td style="padding: 10px;">TATA2024GJ02B8765</td>
                                <td style="padding: 10px;">Tigor EV</td>
                                <td style="padding: 10px;">Aug 5, 2025 11:15</td>
                                <td style="padding: 10px;">TECH_ASM_032</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 10px;">INT2024080597</td>
                                <td style="padding: 10px;">BP2024001544</td>
                                <td style="padding: 10px;">MAHI2024TN03C1234</td>
                                <td style="padding: 10px;">eVerito</td>
                                <td style="padding: 10px;">Aug 5, 2025 09:45</td>
                                <td style="padding: 10px;">TECH_ASM_018</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Register Battery Screen -->
        <div id="register" class="screen">
            <div class="card">
                <h3>Register New Battery</h3>
                <div class="grid">
                    <div>
                        <div class="form-group">
                            <label>Manufacturer</label>
                            <select>
                                <option>Select Manufacturer</option>
                                <option>Tata Motors</option>
                                <option>Mahindra Electric</option>
                                <option>Ola Electric</option>
                                <option>Ather Energy</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Cell Chemistry</label>
                            <select>
                                <option>Select Chemistry</option>
                                <option>LFP (Lithium Iron Phosphate)</option>
                                <option>NMC (Nickel Manganese Cobalt)</option>
                                <option>Li-ion (Generic)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Capacity (kWh)</label>
                            <input type="number" placeholder="e.g., 40.5" step="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label>Voltage (V)</label>
                            <input type="number" placeholder="e.g., 400" step="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label>Serial Number</label>
                            <input type="text" placeholder="e.g., BT240815001">
                        </div>
                        
                        <div class="form-group">
                            <label>Batch Number</label>
                            <input type="text" placeholder="e.g., BATCH2024_Q3_001">
                        </div>
                    </div>
                    
                    <div>
                        <div class="form-group">
                            <label>Warranty Start Date</label>
                            <input type="date">
                        </div>
                        
                        <div class="form-group">
                            <label>Warranty Period (Years)</label>
                            <select>
                                <option>3 Years</option>
                                <option>5 Years</option>
                                <option>8 Years</option>
                                <option>10 Years</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Manufacturing Plant</label>
                            <select>
                                <option>Select Plant</option>
                                <option>Chennai - Plant 1</option>
                                <option>Pune - Plant 2</option>
                                <option>Gujarat - Plant 3</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Quality Certification</label>
                            <select>
                                <option>BIS Certified</option>
                                <option>EU CE Marked</option>
                                <option>ISO 9001</option>
                                <option>Multiple Certifications</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Additional Notes</label>
                            <textarea rows="3" placeholder="Any additional manufacturing or quality notes..."></textarea>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="generatePassport()">Generate Battery Passport</button>
                    <button class="btn btn-secondary">Save as Draft</button>
                </div>
            </div>
            
            <div id="generated-passport" class="card" style="display: none;">
                <h3>Battery Passport Generated Successfully!</h3>
                <div class="qr-display">
                    <div class="qr-code">QR CODE<br>Generated</div>
                    <div><strong>Passport ID:</strong> BP2024001548</div>
                    <div style="margin-top: 10px;">
                        <button class="btn btn-success">Download QR Code</button>
                        <button class="btn btn-secondary">Print Label</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- QR Scanner Screen -->
        <div id="scanner" class="screen">
            <div class="card">
                <h3>Scan Battery QR Code</h3>
                <div class="scanner-view">
                    <div class="camera-frame">
                        <div>ðŸ“· Camera Feed<br>Point camera at QR code</div>
                    </div>
                    <button class="btn" onclick="simulateScan()">Simulate Scan</button>
                    <button class="btn btn-secondary">Switch Camera</button>
                </div>
                
                <div id="scan-result" class="card" style="display: none; background: white;">
                    <h3>Scan Result - Battery BP2024001234</h3>
                    <div class="grid">
                        <div>
                            <p><strong>Battery Type:</strong> LFP</p>
                            <p><strong>Capacity:</strong> 40.5 kWh</p>
                            <p><strong>Voltage:</strong> 400V</p>
                            <p><strong>Manufacturer:</strong> Tata Motors</p>
                        </div>
                        <div>
                            <p><strong>State of Health:</strong> <span class="status-badge status-active">87%</span></p>
                            <p><strong>Warranty:</strong> Valid until Dec 2027</p>
                            <p><strong>Last Service:</strong> 15 days ago</p>
                            <p><strong>Status:</strong> <span class="status-badge status-active">Active</span></p>
                        </div>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn">View Full Passport</button>
                        <button class="btn btn-secondary">Log Event</button>
                        <button class="btn btn-secondary">Service Request</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Battery Passport Screen -->
        <div id="passport" class="screen">
            <div class="card">
                <h3>Battery Passport - BP2024001234</h3>
                <div class="grid">
                    <div>
                        <h4 style="color: #667eea; margin-bottom: 10px;">Basic Information</h4>
                        <p><strong>Passport ID:</strong> BP2024001234</p>
                        <p><strong>Manufacturer:</strong> Tata Motors</p>
                        <p><strong>Chemistry:</strong> LFP (Lithium Iron Phosphate)</p>
                        <p><strong>Capacity:</strong> 40.5 kWh</p>
                        <p><strong>Voltage:</strong> 400V</p>
                        <p><strong>Serial Number:</strong> BT240601234</p>
                        <p><strong>Batch:</strong> BATCH2024_Q2_015</p>
                        <p><strong>Manufacturing Date:</strong> June 15, 2024</p>
                    </div>
                    
                    <div>
                        <h4 style="color: #667eea; margin-bottom: 10px;">Current Status</h4>
                        <p><strong>State of Health:</strong> <span class="status-badge status-active">87%</span></p>
                        <p><strong>State of Charge:</strong> 65%</p>
                        <p><strong>Charge Cycles:</strong> 342 / 3000</p>
                        <p><strong>Current Owner:</strong> Mumbai Taxi Fleet</p>
                        <p><strong>Vehicle VIN:</strong> TATA2024MH01A1234</p>
                        <p><strong>Last Location:</strong> Mumbai, Maharashtra</p>
                        <p><strong>Temperature Range:</strong> 25-45Â°C</p>
                        <p><strong>Status:</strong> <span class="status-badge status-active">Active</span></p>
                    </div>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>Warranty Information</h3>
                    <p><strong>Warranty Period:</strong> 8 Years / 160,000 km</p>
                    <p><strong>Start Date:</strong> June 20, 2024</p>
                    <p><strong>End Date:</strong> June 20, 2032</p>
                    <p><strong>Warranty Status:</strong> <span class="status-badge status-active">Valid</span></p>
                    <div style="margin-top: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>Warranty Period Used</span>
                            <span>8.2%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 8.2%;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Environmental Data</h3>
                    <p><strong>Carbon Footprint:</strong> 4.2 tons CO2</p>
                    <p><strong>Recycled Material Content:</strong> 15%</p>
                    <p><strong>Raw Material Origin:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>Lithium: Australia</li>
                        <li>Cobalt: Democratic Republic of Congo</li>
                        <li>Nickel: Indonesia</li>
                    </ul>
                    <p style="margin-top: 10px;"><strong>ESG Score:</strong> B+</p>
                </div>
            </div>
        </div>
        
        <!-- Lifecycle Tracking Screen -->
        <div id="lifecycle" class="screen">
            <div class="card">
                <h3>Battery Lifecycle Timeline - BP2024001234</h3>
                <div class="lifecycle-timeline">
                    <div class="timeline-item">
                        <div class="timeline-icon" style="background: #27ae60;">1</div>
                        <div class="timeline-content">
                            <h4>Manufacturing Completed</h4>
                            <p>Battery manufactured at Chennai Plant 1 - June 15, 2024</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon" style="background: #3498db;">2</div>
                        <div class="timeline-content">
                            <h4>Quality Testing & Certification</h4>
                            <p>Passed all BIS and EU safety standards - June 18, 2024</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon" style="background: #9b59b6;">3</div>
                        <div class="timeline-content">
                            <h4>Vehicle Integration</h4>
                            <p>Installed in Tata Nexon EV (VIN: TATA2024MH01A1234) - June 20, 2024</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon" style="background: #f39c12;">4</div>
                        <div class="timeline-content">
                            <h4>First Service</h4>
                            <p>Routine maintenance at 5,000 km - September 15, 2024</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon" style="background: #e74c3c;">5</div>
                        <div class="timeline-content">
                            <h4>Battery Health Alert</h4>
                            <p>SoH dropped to 87% - January 10, 2025</p>
                        </div>
                    </div>
                    
                    <div class="timeline-item">
                        <div class="timeline-icon" style="background: #95a5a6;">6</div>
                        <div class="timeline-content">
                            <h4>Current Status</h4>
                            <p>Active in fleet operation - 15,450 km traveled</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="grid">
                <div class="card">
                    <h3>Usage Statistics</h3>
                    <p><strong>Total Distance:</strong> 15,450 km</p>
                    <p><strong>Charge Cycles:</strong> 342</p>
                    <p><strong>Average Daily Usage:</strong> 65 km</p>
                    <p><strong>Fast Charging Sessions:</strong> 89</p>
                    <p><strong>Slow Charging Sessions:</strong> 253</p>
                    <p><strong>Average Temperature:</strong> 32Â°C</p>
                    <p><strong>Peak Temperature:</strong> 48Â°C</p>
                </div>
                
                <div class="card">
                    <h3>Health Trends</h3>
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span>Battery Health</span>
                            <span>87%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 87%; background: linear-gradient(45deg, #f39c12, #e67e22);"></div>
                        </div>
                    </div>
                    
                    <p><strong>Degradation Rate:</strong> 1.8% per year</p>
                    <p><strong>Predicted EOL:</strong> 2031 (6.5 years remaining)</p>
                    <p><strong>Recommended Action:</strong> Monitor closely</p>
                </div>
            </div>
        </div>
        
        <!-- Service Center Screen -->
        <div id="service" class="screen">
            <div class="card">
                <h3>Service Center Dashboard</h3>
                <div class="grid">
                    <div>
                        <div class="form-group">
                            <label>Scan or Enter Battery ID</label>
                            <input type="text" placeholder="BP2024001234" id="serviceInput">
                        </div>
                        <button class="btn" onclick="loadBatteryService()">Load Battery Info</button>
                    </div>
                    
                    <div id="battery-service-info" style="display: none;">
                        <h4 style="color: #667eea;">Battery BP2024001234</h4>
                        <p><strong>Current SoH:</strong> 87%</p>
                        <p><strong>Last Service:</strong> 15 days ago</p>
                        <p><strong>Service Due:</strong> <span class="status-badge status-warning">Overdue</span></p>
                    </div>
                </div>
            </div>
            
            <div id="service-form" class="card" style="display: none;">
                <h3>Log Service Activity</h3>
                <div class="grid">
                    <div>
                        <div class="form-group">
                            <label>Service Type</label>
                            <select>
                                <option>Routine Maintenance</option>
                                <option>BMS Update</option>
                                <option>Cell Replacement</option>
                                <option>Thermal Management Service</option>
                                <option>Diagnostic Check</option>
                                <option>Warranty Repair</option>
                                <option>Emergency Service</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Service Center</label>
                            <select>
                                <option>Mumbai Service Hub</option>
                                <option>Delhi Service Center</option>
                                <option>Bangalore Tech Center</option>
                                <option>Chennai Main Center</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Technician ID</label>
                            <input type="text" placeholder="TECH001" readonly value="TECH045">
                        </div>
                        
                        <div class="form-group">
                            <label>Service Date</label>
                            <input type="datetime-local" value="2025-08-06T14:30">
                        </div>
                    </div>
                    
                    <div>
                        <div class="form-group">
                            <label>Issues Found</label>
                            <textarea rows="3" placeholder="Describe any issues identified during service..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>Actions Taken</label>
                            <textarea rows="3" placeholder="Detail all service actions performed..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>Parts Replaced</label>
                            <input type="text" placeholder="List any replaced components">
                        </div>
                        
                        <div class="form-group">
                            <label>Post-Service SoH (%)</label>
                            <input type="number" placeholder="87" min="0" max="100">
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-success">Complete Service</button>
                    <button class="btn btn-secondary">Save Draft</button>
                    <button class="btn btn-danger">Flag for Replacement</button>
                </div>
            </div>
            
            <div class="card">
                <h3>Recent Service Records</h3>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #f8f9ff; border-bottom: 2px solid #667eea;">
                                <th style="padding: 12px; text-align: left;">Battery ID</th>
                                <th style="padding: 12px; text-align: left;">Service Type</th>
                                <th style="padding: 12px; text-align: left;">Date</th>
                                <th style="padding: 12px; text-align: left;">Technician</th>
                                <th style="padding: 12px; text-align: left;">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 10px;">BP2024001234</td>
                                <td style="padding: 10px;">BMS Update</td>
                                <td style="padding: 10px;">Aug 5, 2025</td>
                                <td style="padding: 10px;">TECH045</td>
                                <td style="padding: 10px;"><span class="status-badge status-active">Completed</span></td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 10px;">BP2024001456</td>
                                <td style="padding: 10px;">Routine Maintenance</td>
                                <td style="padding: 10px;">Aug 4, 2025</td>
                                <td style="padding: 10px;">TECH032</td>
                                <td style="padding: 10px;"><span class="status-badge status-active">Completed</span></td>
                            </tr>
                            <tr style="border-bottom: 1px solid #eee;">
                                <td style="padding: 10px;">BP2024001789</td>
                                <td style="padding: 10px;">Cell Replacement</td>
                                <td style="padding: 10px;">Aug 3, 2025</td>
                                <td style="padding: 10px;">TECH018</td>
                                <td style="padding: 10px;"><span class="status-badge status-warning">In Progress</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- Recycling Screen -->
        <div id="recycling" class="screen">
            <div class="card">
                <h3>End-of-Life Battery Management</h3>
                <div class="grid">
                    <div>
                        <div class="form-group">
                            <label>Battery ID</label>
                            <input type="text" placeholder="Scan or enter Battery ID" id="recyclingInput">
                        </div>
                        <button class="btn" onclick="loadRecyclingInfo()">Load Battery</button>
                    </div>
                    
                    <div id="recycling-battery-info" style="display: none;">
                        <h4 style="color: #667eea;">Battery BP2024000987</h4>
                        <p><strong>Current SoH:</strong> <span class="status-badge status-danger">45%</span></p>
                        <p><strong>EOL Status:</strong> <span class="status-badge status-danger">Recommended</span></p>
                        <p><strong>Last Owner:</strong> Delhi Metro Fleet</p>
                    </div>
                </div>
            </div>
            
            <div id="recycling-form" class="card" style="display: none;">
                <h3>Recycling Process</h3>
                <div class="grid">
                    <div>
                        <div class="form-group">
                            <label>Recycling Facility</label>
                            <select>
                                <option>GreenTech Recycling - Chennai</option>
                                <option>EcoCell Recovery - Mumbai</option>
                                <option>SustainaBat - Bangalore</option>
                                <option>CircularTech - Pune</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Dismantling Date</label>
                            <input type="date" value="2025-08-06">
                        </div>
                        
                        <div class="form-group">
                            <label>Safety Assessment</label>
                            <select>
                                <option>Safe for Processing</option>
                                <option>Requires Special Handling</option>
                                <option>Hazardous - Isolation Required</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Material Recovery Method</label>
                            <select>
                                <option>Mechanical Shredding</option>
                                <option>Hydrometallurgy</option>
                                <option>Pyrometallurgy</option>
                                <option>Direct Recycling</option>
                            </select>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="color: #667eea; margin-bottom: 15px;">Material Recovery Estimates</h4>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Lithium Recovery</span>
                                <span>85%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 85%;"></div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Cobalt Recovery</span>
                                <span>92%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 92%;"></div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Nickel Recovery</span>
                                <span>78%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 78%;"></div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Overall Material Recovery</span>
                                <span>82%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: 82%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Recycling Notes</label>
                    <textarea rows="3" placeholder="Additional notes about the recycling process..."></textarea>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-success">Complete Recycling</button>
                    <button class="btn btn-secondary">Schedule Processing</button>
                    <button class="btn btn-danger">Mark as Hazardous</button>
                </div>
            </div>
            
            <div class="card">
                <h3>Recycling Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">1,000</div>
                        <div class="stat-label">Batteries Recycled</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">82%</div>
                        <div class="stat-label">Avg Material Recovery</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">15.2</div>
                        <div class="stat-label">Tons Materials Recovered</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">450</div>
                        <div class="stat-label">CO2 Tons Saved</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected screen
            document.getElementById(screenId).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        function generatePassport() {
            document.getElementById('generated-passport').style.display = 'block';
            document.getElementById('generated-passport').scrollIntoView({ behavior: 'smooth' });
        }
        
        function simulateScan() {
            document.getElementById('scan-result').style.display = 'block';
            document.getElementById('scan-result').scrollIntoView({ behavior: 'smooth' });
        }
        
        function loadBatteryService() {
            const input = document.getElementById('serviceInput').value;
            if (input.trim()) {
                document.getElementById('battery-service-info').style.display = 'block';
                document.getElementById('service-form').style.display = 'block';
            }
        }
        
        function simulateBatteryScan() {
            document.getElementById('scanned-battery').style.display = 'block';
            document.getElementById('compatibilityBtn').disabled = false;
        }
        
        function runCompatibilityCheck() {
            const vin = document.getElementById('vehicleVin').value;
            const model = document.getElementById('vehicleModel').value;
            
            if (!vin || !model || model === 'Select Vehicle Model') {
                alert('Please enter Vehicle VIN and select Model first');
                return;
            }
            
            // Simulate compatibility check
            setTimeout(() => {
                document.getElementById('compatibility-results').style.display = 'block';
                document.getElementById('integration-summary').style.display = 'block';
                
                // Update summary
                document.getElementById('summaryVin').textContent = vin;
                document.getElementById('summaryModel').textContent = model;
                document.getElementById('summaryDate').textContent = new Date().toLocaleString();
                
                document.getElementById('integrateBtn').disabled = false;
            }, 1500);
        }
        
        function completeBatteryIntegration() {
            const vin = document.getElementById('vehicleVin').value;
            const timestamp = new Date().toLocaleString();
            
            // Update final display
            document.getElementById('finalVin').textContent = vin;
            document.getElementById('finalTimestamp').textContent = timestamp;
            
            document.getElementById('integration-success').style.display = 'block';
            document.getElementById('integration-success').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Auto-populate current date for forms
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.querySelectorAll('input[type="date"]').forEach(input => {
                if (!input.value) {
                    input.value = today;
                }
            });
        });
        
        // Add some interactive animations
        document.querySelectorAll('.btn').forEach(button => {
            button.addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });
        
        // Simulate real-time updates for dashboard
        setInterval(function() {
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(stat => {
                const currentValue = parseInt(stat.textContent.replace(/,/g, ''));
                if (Math.random() > 0.7) { // 30% chance of update
                    const newValue = currentValue + Math.floor(Math.random() * 3);
                    stat.textContent = newValue.toLocaleString();
                }
            });
        }, 5000);
    </script>
</body>
</html>